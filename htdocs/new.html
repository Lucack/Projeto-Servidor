

<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo da Cobrinha</title>
<style>
    canvas {
        background-color: #ddd;
        display: block;
        margin: 0 auto;
    }
    #score {
        text-align: center;
        font-size: 20px;
        margin-top: 10px;
    }
    #restartButton {
        display: block;
        margin: 10px auto;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
    }
</style>
</head>
<body>
<canvas id="gameCanvas" width="400" height="400"></canvas>
<div id="score">Pontuação: 0</div>
<button id="restartButton" onclick="restartGame()">Reiniciar</button>
<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const box = 20;
    const canvasSize = 20;
    const snake = [{ x: 10, y: 10 }];
    const apple = { x: 15, y: 15 };
    let direction = "right";
    let score = 0;
    let speed = 100;
    let gameLoop;

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Desenhar cobra
        ctx.fillStyle = "#00f";
        snake.forEach(part => ctx.fillRect(part.x * box, part.y * box, box, box));

        // Desenhar maçã
        ctx.fillStyle = "#f00";
        ctx.fillRect(apple.x * box, apple.y * box, box, box);

        // Movimento da cobra
        const head = { x: snake[0].x, y: snake[0].y };
        if (direction === "up") head.y--;
        if (direction === "down") head.y++;
        if (direction === "left") head.x--;
        if (direction === "right") head.x++;
        snake.unshift(head);

        // Colisão com a parede
        if (head.x < 0 || head.x >= canvasSize || head.y < 0 || head.y >= canvasSize) {
            gameOver();
        }

        // Colisão com a própria cobra
        if (snake.find(part => part.x === head.x && part.y === head.y && part !== head)) {
            gameOver();
        }

        // Comer maçã
        if (head.x === apple.x && head.y === apple.y) {
            score++;
            speed -= 5; // Aumentar a velocidade ao comer uma maçã
            document.getElementById("score").textContent = `Pontuação: ${score}`;
            spawnApple();
        } else {
            snake.pop();
        }
    }

    function spawnApple() {
        apple.x = Math.floor(Math.random() * canvasSize);
        apple.y = Math.floor(Math.random() * canvasSize);
    }

    function gameOver() {
        clearInterval(gameLoop);
        alert(`Fim de jogo! Sua pontuação foi: ${score}`);
        restartGame();
    }

    function restartGame() {
        clearInterval(gameLoop);
        score = 0;
        speed = 100;
        snake.length = 1;
        snake[0] = { x: 10, y: 10 };
        direction = "right";
        document.getElementById("score").textContent = `Pontuação: ${score}`;
        gameLoop = setInterval(draw, speed);
    }

    document.addEventListener("keydown", event => {
        const key = event.key.toLowerCase();
        if ((key === "w" || key === "arrowup") && direction !== "down") direction = "up";
        if ((key === "s" || key === "arrowdown") && direction !== "up") direction = "down";
        if ((key === "a" || key === "arrowleft") && direction !== "right") direction = "left";
        if ((key === "d" || key === "arrowright") && direction !== "left") direction = "right";
    });

    spawnApple();
    gameLoop = setInterval(draw, speed);
</script>
</body>
</html>
